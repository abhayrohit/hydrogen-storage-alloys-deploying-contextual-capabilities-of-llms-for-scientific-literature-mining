* { box-sizing: border-box; }
html { font-family: system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif; -webkit-font-smoothing: antialiased; }
body { margin:0; background: var(--bg); color: var(--fg); line-height:1.45; }

:root {
	--bg:#f8f9fb; --fg:#1e242b; --fg-dim:#596067; --accent:#2563eb; --accent-glow:#3b82f6;
	--border:#dfe3e7; --card:#ffffff; --card-alt:#f1f4f7; --shadow:0 4px 14px -4px rgba(0,0,0,.08); --radius:14px;
	--focus:0 0 0 3px rgba(37,99,235,.35);
	--mono:#222; --table-head:#eef2f5; --danger:#dc2626; --warn:#d97706; --ok:#059669;
}

/* Layout */

.site-header { display:flex; align-items:center; padding:20px clamp(16px,4vw,48px); background:linear-gradient(90deg,var(--card) 0%,var(--card-alt) 100%); border-bottom:1px solid var(--border); position:sticky; top:0; backdrop-filter:blur(6px); z-index:40; }
.branding h1 { font-size: clamp(1.1rem, 2.2vw, 1.5rem); margin:0; font-weight:600; letter-spacing:.5px; white-space:normal; }

main { padding: clamp(20px,4vw,56px) clamp(16px,5vw,64px) 64px; max-width: 1400px; margin:0 auto; }
.card { background: var(--card); border:1px solid var(--border); border-radius: var(--radius); padding:clamp(20px,2.2vw,40px); box-shadow: var(--shadow); position:relative; overflow:hidden; }
.card:before { content:""; position:absolute; inset:0; background: radial-gradient(circle at 80% 10%, var(--accent) 0%, transparent 60%); opacity:.08; pointer-events:none; }
.upload-card { margin-bottom:40px; }

/* Upload form */
.upload-form { display:flex; flex-direction:column; gap:22px; }
.field-group { position:relative; }
#fileInput { position:absolute; inset:0; opacity:0; cursor:pointer; }
.file-drop { border:2px dashed var(--border); padding:54px 20px; text-align:center; display:block; border-radius:calc(var(--radius) - 4px); font-size: .95rem; color:var(--fg-dim); transition:.25s border, .25s color, .25s background; cursor:pointer; font-weight:500; letter-spacing:.3px; }
.file-drop:hover { border-color: var(--accent); color: var(--accent); background: var(--card-alt); }
.file-drop.drag { border-color: var(--accent); background: var(--accent); color:#fff; }

.actions { display:flex; gap:12px; }
.primary-btn { background: var(--accent); border:none; color:#fff; padding:12px 26px; font-size:.95rem; font-weight:500; letter-spacing:.4px; border-radius: 999px; cursor:pointer; position:relative; transition:.25s background, .25s transform; }
.primary-btn:hover { background: var(--accent-glow); }
.primary-btn:active { transform:translateY(2px); }
.primary-btn:focus-visible { outline:none; box-shadow: var(--focus); }
.primary-btn:disabled { background: var(--border); color: var(--fg-dim); cursor:wait; }

.status-line { min-height:22px; font-size:.8rem; color:var(--fg-dim); letter-spacing:.3px; }
.status-line:empty:before { content:"Ready"; }

/* Results */
.results-head { display:flex; align-items:flex-end; justify-content:space-between; gap:20px; margin:0 0 14px; flex-wrap:wrap; }
.results-head h2 { margin:0; font-size: clamp(1.1rem, 1.6vw, 1.5rem); font-weight:600; letter-spacing:.5px; }
.downloads a { text-decoration:none; background: var(--card-alt); padding:8px 14px; border-radius: 8px; color: var(--accent); border:1px solid var(--border); font-size:.75rem; font-weight:500; letter-spacing:.4px; display:inline-flex; gap:6px; align-items:center; }
.downloads a:hover { background: var(--accent); color:#fff; border-color: var(--accent); }

.table-wrapper { overflow:auto; max-height:480px; border:1px solid var(--border); border-radius: calc(var(--radius) - 6px); background: var(--card); position:relative; }
.table-wrapper:before { content:""; position:absolute; inset:0; pointer-events:none; background:linear-gradient(to bottom, rgba(0,0,0,.04), transparent 12%); mix-blend-mode:overlay; opacity:.6; }
.minimal-scroll::-webkit-scrollbar { width:10px; height:10px; }
.minimal-scroll::-webkit-scrollbar-track { background:transparent; }
.minimal-scroll::-webkit-scrollbar-thumb { background: var(--border); border-radius:10px; }
.minimal-scroll::-webkit-scrollbar-thumb:hover { background: var(--accent); }

table { border-collapse: separate; border-spacing:0; width:100%; font-size:.78rem; }
th, td { padding:8px 12px; text-align:left; vertical-align:top; border-bottom:1px solid var(--border); }
th { position:sticky; top:0; background: var(--table-head); z-index:2; font-weight:600; font-size:.72rem; text-transform:uppercase; letter-spacing:.8px; }
tbody tr:last-child td { border-bottom:none; }
tbody tr:hover td { background: var(--card-alt); }
td { line-height:1.3; }

.raw-block { margin-top:26px; }
.raw-block summary { cursor:pointer; font-size:.8rem; font-weight:500; letter-spacing:.4px; color: var(--accent); }
.raw { background:#111; color:#9ef; padding:18px 20px; border-radius: 10px; overflow:auto; font-size:.7rem; line-height:1.4; box-shadow: inset 0 0 0 1px #222; }
[data-theme="dark"] .raw { background:#050607; color:#6dd3ff; box-shadow: inset 0 0 0 1px #1d2935; }

/* Footer */
.site-footer { padding:50px 24px 70px; text-align:center; font-size:.65rem; color: var(--fg-dim); display:flex; flex-direction:column; gap:8px; }
.site-footer code { background: var(--card-alt); padding:2px 6px; border-radius:6px; font-size:.65rem; }
.sep { opacity:.35; margin:0 6px; }

/* Theme toggle */

/* Helpers */
.hidden { display:none !important; }
.fade-in { animation: fade .5s ease; }
@keyframes fade { from { opacity:0; transform: translateY(4px);} to { opacity:1; transform: translateY(0);} }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) { * { animation:none !important; transition:none !important; } }
